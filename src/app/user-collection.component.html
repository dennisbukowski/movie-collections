<header-component></header-component>

<section class="movies-form-section-1">
  <div class="container-1">

    <h1>user-collection.component.html</h1>

    <div *ngIf="showSearch">
      <form (ngSubmit)="searchSubmit()" #searchForm="ngForm">
        <div class="form-group">
          <label>Movie Search</label>
          <input type="text" class="form-control" placeholder="Search" name="searchInput" [(ngModel)]="searchInput" required>
        </div>
        <div class="form-group-submit">
          <button class="button-default" type="submit" [disabled]="searchForm.invalid">Search</button>
        </div>
      </form>

      <h1>Results</h1>
      <div *ngIf="searchResults">
        <div *ngFor="let movie of searchResults, let i = index">
          <div *ngIf="i <= 5">
            <h4 class="button-default" (click)="addNewMovie(movie)">{{movie.title}}</h4>
          </div>
        </div>
      </div>
      <h3 *ngIf="searchResults <= 0">No results!</h3>

      </div>

      <div *ngIf="!showSearch">
      <h1>Current Movies</h1>

      <form (ngSubmit)="titleSubmit()" #titleForm="ngForm">
        <div class="form-group">
          <input type="text" class="form-control" name="titleValue" placeholder="Collection Title" [(ngModel)]="titleValue" ngModel maxlength="25" required>
        </div>
        <div class="form-group-submit">
          <button class="button-default" type="submit" [disabled]="titleForm.invalid">Add Title</button>
        </div>
      </form>

      <ul *ngIf="currentMovies">
        <li *ngFor="let currentMovie of currentMovies | async">
          <span class="button-delete" (click)="deleteMovie(currentMovie)">{{ currentMovie.title }}</span>
        </li>
      </ul>
      <ul *ngIf="!currentMovies">
        <li>No Movies!</li>
      </ul>
    </div>

    <button class="button-default" (click)="toggleSearch()">
      <span *ngIf="!showSearch">Show Search</span>
      <span *ngIf="showSearch">Show Collection</span>
    </button>    

  </div><!-- /.container -->
</section>
